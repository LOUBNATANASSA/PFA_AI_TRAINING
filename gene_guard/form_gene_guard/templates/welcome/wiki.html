{% extends 'welcome/base.html' %}
{% load static %}

{% block content %}
<style>
    /* Container */
.dashboard-container {
  max-width: 1000px;
  margin: 40px auto;
  padding: 20px;
  background-color: #fefefe;
  border-radius: 12px;
}

/* Title */
.dashboard-container h2 {
  text-align: center;
  color: #2e7d32;
  margin-bottom: 40px;
  font-size: 28px;
}

/* Disease Card */
.info-box {
  background-color: #f9f9f9;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
  transition: transform 0.2s;
  border-left: 6px solid #66bb6a;
}

.info-box:hover {
  transform: translateY(-4px);
}

/* Disease Title */
.info-box h3 {
  margin-bottom: 10px;
  font-size: 22px;
  color: #1b5e20;
}

/* Paragraphs */
.info-box p {
  margin: 10px 0;
  line-height: 1.6;
  font-size: 16px;
  color: #333;
}

/* Subtitles (strong) */
.info-box strong {
  color: #2e7d32;
}

/* Symptom list */
.info-box ul {
  margin: 10px 0 15px 20px;
  list-style: disc;
  color: #444;
}

.info-box ul li {
  margin-bottom: 5px;
}

/* Responsive */
@media screen and (max-width: 768px) {
  .dashboard-container {
    padding: 10px;
  }

  .info-box {
    padding: 15px;
  }

  .info-box h3 {
    font-size: 20px;
  }

  .info-box p, .info-box ul {
    font-size: 15px;
  }
}

</style>
<div class="dashboard-container">
    <br>
    <br>
    <br>
    <br>
  <h2>ðŸ§¬ Hereditary Disease Wiki</h2>
<input type="text" id="searchInput" placeholder="ðŸ” Search for a disease..." onkeyup="filterDiseases()" style="
  width: 100%;
  padding: 12px 16px;
  margin-bottom: 30px;
  font-size: 16px;
  border: 2px solid #ddd;
  border-radius: 8px;
">
  {% for disease in diseases %}
<div class="disease-card">
  <div class="info-box" style="margin-bottom: 30px;">
    <h3>{{ disease.name }}</h3>
    <p><strong>Description:</strong> {{ disease.description }}</p>
    <p><strong>Common Symptoms:</strong></p>
    <ul>
      {% for s in disease.symptoms %}
        <li>{{ s }}</li>
      {% endfor %}
    </ul>
    <p><strong>Causes:</strong> {{ disease.causes }}</p>
    <p><strong>Treatments:</strong> {{ disease.treatment }}</p>
  </div>
</div>
  {% endfor %}
</div>
<script>
function filterDiseases() {
  const input = document.getElementById('searchInput');
  const filter = input.value.toLowerCase();
  const cards = document.getElementsByClassName('disease-card');

  for (let i = 0; i < cards.length; i++) {
    const h3 = cards[i].getElementsByTagName('h3')[0];
    const name = h3.textContent || h3.innerText;

    if (name.toLowerCase().includes(filter)) {
      cards[i].style.display = "";
    } else {
      cards[i].style.display = "none";
    }
  }
}
</script>
{% endblock %}
