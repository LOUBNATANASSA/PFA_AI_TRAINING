{% extends 'welcome/base.html' %}
{% load static %}

{% block content %}
<div class="bodyform">
  <div class="assessment-container">
    <h2>Évaluation du Risque de Diabète</h2>
    
    <div class="progress-container">
      <div class="progress-line">
        <div class="progress-fill" id="progressFill"></div>
        <div class="progress-circles">
          {% for i in "12345678" %}
            <div class="progress-circle {% if forloop.first %}active{% endif %}" id="circle{{ i }}">{{ i }}</div>
          {% endfor %}
        </div>
      </div>
    </div>

   <form id="DiabetesForm">
  <div class="question-container">

    <div class="question active" id="q1">
      <label>1. How many pregnancies have you had (even if not carried to term)?</label>
      <input type="number" name="Pregnancies" required placeholder="e.g. 2">
      <div class="btn-group">
        <div></div>
        <button type="button" class="next-btn" onclick="nextQuestion(1)">Next</button>
      </div>
    </div>

    <div class="question" id="q2">
     <label>2. Do you know your fasting blood sugar level (in mg/dL)?</label>
<input type="number" name="Glucose" required placeholder="e.g. 100">
      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(2)">Previous</button>
        <button type="button" class="next-btn" onclick="nextQuestion(2)">Next</button>
      </div>
    </div>

    <div class="question" id="q3">
      <label>3. What is your diastolic blood pressure (the lower number)?</label>
<input type="number" name="BloodPressure" required placeholder="e.g. 70">
      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(3)">Previous</button>
        <button type="button" class="next-btn" onclick="nextQuestion(3)">Next</button>
      </div>
    </div>

    <div class="question" id="q4">
     <label>4. Do you know the thickness of your skin fold (in mm)?</label>
<input type="number" name="SkinThickness" required placeholder="e.g. 20">

      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(4)">Previous</button>
        <button type="button" class="next-btn" onclick="nextQuestion(4)">Next</button>
      </div>
    </div>

    <div class="question" id="q5">
      <label>5. Do you know your insulin level (µU/mL)?</label>
<input type="number" name="Insulin" required placeholder="e.g. 85">

      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(5)">Previous</button>
        <button type="button" class="next-btn" onclick="nextQuestion(5)">Next</button>
      </div>
    </div>

    <div class="question" id="q6">
      <label>6. What is your Body Mass Index (BMI)?</label>
<input type="number" step="0.1" name="BMI" required placeholder="e.g. 25.3">

      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(6)">Previous</button>
        <button type="button" class="next-btn" onclick="nextQuestion(6)">Next</button>
      </div>
    </div>

    <div class="question" id="q7">
     <label>7. Do you have a family history of diabetes?</label>
<select name="DiabetesPedigreeFunction" required>
  <option value="" disabled selected>Select an option</option>
  <option value="0.1">No</option>
  <option value="0.3">Yes, one family member</option>
  <option value="0.5">Yes, multiple family members</option>
</select>

      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(7)">Previous</button>
        <button type="button" class="next-btn" onclick="nextQuestion(7)">Next</button>
      </div>
    </div>

    <div class="question" id="q8">
      <label>8. What is your age?</label>
<input type="number" name="Age" required placeholder="e.g. 45">
      <div class="btn-group">
        <button type="button" class="prev-btn" onclick="prevQuestion(8)">Previous</button>
        <button type="button" class="submit-btn" onclick="submitDiabetesForm()">Submit</button>
      </div>
    </div>

  </div>
</form>


    <div id="resultDisplay" class="result-message hidden"></div>
    <div id="loadingIndicator" class="hidden">
  <p>Analyse en cours...</p>
  <div class="loader"></div>
</div>
    <h6>Veuillez répondre honnêtement pour une évaluation fiable.</h6>
  </div>
</div>

<script src="{% static 'js/diabetes_form.js' %}"></script>
{% endblock %}
